<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Async Img : Asynchronous and lazy image loading library.">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/github.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/custom.css">

    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>
    <script src="javascripts/async-img.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <title>Async Img</title>
</head>

<body>
    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/mladenilic/async-img">View on GitHub</a>

          <h1 id="project_title">Async Img</h1>
          <h2 id="project_tagline">Asynchronous and lazy image loading library</h2>

          <section id="downloads">
              <a class="zip_download_link" href="https://github.com/mladenilic/async-img/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/mladenilic/async-img/tarball/master">Download this project as a tar.gz file</a>
          </section>
      </header>
  </div>

  <!-- MAIN CONTENT -->
  <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2>About</h2>
        <p>
            Flexible yet simple. Built to seemingly integrate within any project. With wide range of options it can be configured to fit any need.
        </p>

        <h2>Basic example</h2>
        <p>Hover image to load it.</p>

        <div class="example">
            <img class="basic" src="images/loader.svg" data-src="images/check.png" />
            <script>
                AsyncImage.new('.basic', {binds: [{target: '.basic', type: 'mouseover'}]});
            </script>
        </div>

<pre><code class="html"><img class="basic" src="images/loader.svg" data-src="images/check.png" />
&lt;script&gt;
    AsyncImage.new('.basic', {binds: [{target: '.basic', type: 'mouseover'}]});
&lt;/script&gt;
</code></pre>

        <h2>Initializing Asynchronous Loader</h2>
        <pre><code class="js">AsyncImage.new('&lt;selector&gt;', '&lt;options&gt;');</code></pre>

        <ul>
            <li><code>selector</code> - image elements which will be asynchronous laoded (valid jQuery selector)</li>
            <li>
                <code>options</code>

                <ul>
                    <li>
                        <code>binds</code> - array of events on which images will be loaded

                        <ul>
                            <li><code>type</code> - string (<code>click</code>, <code>mouseover</code>)</li>
                            <li><code>target</code> - event target (valid jQuery selector)</li>
                            <li><code>delay</code> - number of miliseconds event will be delayed (dafault: <code>0</code>)</li>
                            <li><code>throttle</code> - fire maximum of one event per x miliseconds (dafault: <code>300</code>)</li>
                        </ul>
                    </li>
                    <li>
                        <code>conditions</code> - object specifying conditions under which images will be loaded

                        <ul>
                            <li><code>visible</code> - load image only if element is not hidden (default: <code>false</code>)</li>
                            <li><code>within_bounds</code> - load image only if element is within viewport (default: <code>false</code>)</li>
                            <li><code>custom</code> - callback with user defined function that returns boolean value</li>
                        </ul>
                    </li>
                    <li>
                        <code>callbacks</code> - object with user defined callbacks

                        <ul>
                            <li><code>load</code> - called on image load</li>
                            <li><code>error</code> - called when loading image fails</li>
                        </ul>
                    </li>
                    <li>
                        <code>offset</code> - adds offsets when calculating if image element is in viewport
                        <ul>
                            <li><code>x</code> - horizontal offset (dafault: <code>0</code>)</li>
                            <li><code>y</code> - vertical offset (dafault: <code>0</code>)</li>
                        </ul>
                    </li>
                    <li><code>throttle</code> - default throttle value for all events (default: <code>300</code>)</li>
                    <li><code>event_namespace</code> - namespace used to register events (default: <code>'.async-img'</code>)</li>
                </ul>
            </li>
        </ul>

        <h2>Initializing Lazy Loader</h2>
        <pre><code class="js">AsyncImage.lazy('&lt;selector&gt;');</code></pre>

        <ul>
            <li><code>selector</code> - image elements which will be lazy laoded (valid jQuery selector)</li>
        </ul>

        <h2>Methods</h2>
<pre><code class="js">    var loader = new AsyncImage.new('.example');

    // Bind additional events to triget image loadin
    loader.bind({target: '.button', type: 'click', delay: 250});

    // Manually trigger image loading
    loader.update();

    // Dynamically register callbacks
    loader.onLoad(function () {
      console.log($(this).attr('src'), 'Loaded');
    });

    loader.onError(function () {
      console.log($(this).attr('src'), 'could not be loaded');
    });
</code></pre>

        <h2 class="test">Lazy load Example</h2>
        <p>Image is loaded after it enters viewport.</p>

        <div class="example">
          <img class="lazy-load" src="images/loader.svg" data-src="images/check.png" />
          <script>
              AsyncImage.lazy('img.lazy-load');
          </script>
        </div>

<pre><code class="html"><img class="lazy-load" src="images/loader.svg" data-src="images/check.png" />
&lt;script&gt;
  AsyncImage.lazy('img.lazy-load');
&lt;/script&gt;
</code></pre>

        <p>Or, if you need more flexibility, initialize <i>Async Image</i> to lazy load image.</p>

<pre><code class="html"><img class="lazy-load" src="images/loader.svg" data-src="images/check.png" />
&lt;script&gt;
    AsyncImage.new('img.lazy-load', {
        binds: [ { target: window, type: 'scroll'} ],
        conditions: { within_bounds: true }
    });
&lt;/script&gt;
</code></pre>

        </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
        <footer class="inner">
            <p class="copyright">Async image created by <a href="https://github.com/mladenilic">Mladen Ilic</a></p>
            <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
        </footer>
    </div>

    <script>
        (function () {
          $('pre code').each(function () {
            $(this).html($(this).html().replace(/</g, '&lt;').replace(/>/g, '&gt;'));
          });
        })();
    </script>
</body>
</html>
